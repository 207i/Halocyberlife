<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Resonant Photonic Amplification — Light From Frequency | Halocyberlife</title>
  <meta name="description" content="A concept technology exploring frequency-driven photonic excitation: how resonance could amplify light emission from engineered layers—without relying on traditional light sources." />
  <meta name="author" content="Luis Amaya" />
  <meta name="keywords" content="resonance, photonics, frequency, experimental technology, luminescence, excitation, Halocyberlife" />

  <style>
    :root{
      --bg:#020617;
      --text:#f9fafb;
      --muted:#9ca3af;
      --soft:#d1d5db;
      --border: rgba(148,163,184,0.28);
      --accent:#22d3ee;
      --accent2:#8b5cf6;
      --radius:18px;
      --shadow: 0 18px 60px rgba(0,0,0,0.45);
    }
    *{ box-sizing:border-box; margin:0; padding:0; }
    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background: radial-gradient(circle at top, #111827 0, #020617 55%, #02040a 100%);
      color: var(--text);
      line-height: 1.6;
    }
    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .container{
      width:100%;
      max-width: 980px;
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    /* Header */
    header{
      position: sticky;
      top:0;
      z-index: 50;
      background: rgba(0,0,0,0.65);
      border-bottom: 1px solid rgba(255,255,255,0.08);
      backdrop-filter: blur(12px);
    }
    .header-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      padding: .9rem 0;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:.65rem;
      font-weight:700;
      letter-spacing:.05em;
      text-transform: uppercase;
      font-size:.9rem;
      color: var(--text);
      white-space: nowrap;
    }
    .brand img{ width:40px; height:40px; object-fit:contain; }

    /* Nav */
    .nav-wrap{
      display:flex;
      align-items:center;
      gap:.6rem;
      margin-right: 10px;
      position: relative;
    }
    nav{
      display:flex;
      align-items:center;
      gap:.4rem;
    }
    nav a{
      display:inline-block;
      padding:.5rem .9rem;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.18);
      color: var(--text);
      font-size:.85rem;
      letter-spacing:.08em;
      text-transform: uppercase;
      background: rgba(255,255,255,0.05);
    }
    nav a:hover{
      border-color: rgba(34,211,238,0.65);
      box-shadow: 0 0 18px rgba(34,211,238,0.18);
      text-decoration:none;
    }

    /* Mobile menu button */
    .menu-btn{
      display:none;
      width:42px;
      height:42px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color:#fff;
      cursor:pointer;
      font-size: 1.1rem;
      line-height:1;
    }
    .menu-btn:hover{
      border-color: rgba(34,211,238,0.65);
      box-shadow: 0 0 18px rgba(34,211,238,0.18);
    }

    @media (max-width: 720px){
      .menu-btn{ display:inline-grid; place-items:center; }
      nav{
        position:absolute;
        top: 56px;
        right: 0;
        flex-direction: column;
        align-items: stretch;
        padding: 10px;
        border-radius: 16px;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(2,6,23,0.92);
        box-shadow: var(--shadow);
        display:none;
        min-width: 210px;
      }
      nav.open{ display:flex; }
      nav a{ width:100%; text-align:center; }
    }

    main{ padding: 2rem 0 3rem; }

    .article-head{
      text-align:center;
      margin: 1rem auto 1.25rem;
    }
    .meta{
      color: var(--muted);
      font-size: .85rem;
      letter-spacing:.12em;
      text-transform: uppercase;
      margin-bottom:.6rem;
    }
    h1{
      font-size: clamp(2.05rem, 3.4vw, 2.85rem);
      line-height:1.12;
      margin-bottom:.65rem;
      letter-spacing: -0.015em;
    }
    .subtitle{
      color: var(--soft);
      max-width: 820px;
      margin: 0.2rem auto 0;
      font-size: 1.02rem;
    }

    /* CTA row */
    .cta{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      justify-content:center;
      margin: 1rem 0 0.2rem;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: #fff;
      cursor:pointer;
      font-size: .92rem;
      letter-spacing:.08em;
      text-transform: uppercase;
      text-decoration:none;
      user-select:none;
    }
    .btn:hover{
      border-color: rgba(34,211,238,0.65);
      box-shadow: 0 0 18px rgba(34,211,238,0.18);
      text-decoration:none;
    }
    .btn.primary{
      border-color: rgba(34,211,238,0.55);
      background: linear-gradient(90deg, rgba(34,211,238,0.18), rgba(139,92,246,0.14));
    }
    .btn.secondary{
      border-color: rgba(139,92,246,0.55);
      background: rgba(139,92,246,0.10);
    }

    .tag-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top: 10px;
      justify-content:center;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.06);
      padding: 6px 10px;
      border-radius: 999px;
      color: rgba(229,231,235,0.95);
      font-size: .86rem;
      letter-spacing:.04em;
    }
    .pill strong{ color: #fff; font-weight: 700; }

    /* Slider */
    .vision-slider{ margin: 1.25rem auto 1.3rem; }
    .vision-viewport{
      position: relative;
      overflow: hidden;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      box-shadow: var(--shadow);
    }
    .vision-track{
      display:flex;
      width:100%;
      transform: translateX(0);
      transition: transform .45s ease;
    }
    .vision-slide{ flex: 0 0 100%; margin:0; }
    .vision-slide img{
      width:100%;
      height: clamp(240px, 44vw, 520px);
      display:block;
      object-fit: cover;
      background: rgba(255,255,255,0.05);
    }
    .vision-slide figcaption{
      padding: .75rem .9rem;
      font-size: .96rem;
      color: rgba(209,213,219,0.92);
      background: rgba(2,6,23,0.62);
      border-top: 1px solid rgba(255,255,255,0.08);
    }
    .vision-btn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width: 42px;
      height: 42px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.18);
      background: rgba(2,6,23,0.55);
      color:#fff;
      font-size: 1.6rem;
      line-height:1;
      cursor:pointer;
      display:grid;
      place-items:center;
      z-index: 5;
      user-select:none;
    }
    .vision-btn:hover{
      border-color: rgba(34,211,238,0.65);
      box-shadow: 0 0 18px rgba(34,211,238,0.20);
    }
    .vision-prev{ left: 12px; }
    .vision-next{ right: 12px; }
    .vision-dots{
      display:flex;
      justify-content:center;
      gap:10px;
      margin-top: 12px;
    }
    .vision-dot{
      width:10px;
      height:10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.10);
      cursor:pointer;
    }
    .vision-dot[aria-selected="true"]{
      background: rgba(34,211,238,0.9);
      border-color: rgba(34,211,238,0.95);
    }
    .note{
      margin-top: 10px;
      color: rgba(209,213,219,0.82);
      font-size: .92rem;
      text-align:center;
    }

    /* Article body */
    .article-body{
      max-width: 820px;
      margin: 0 auto;
      font-size: 1.02rem;
      color: rgba(209,213,219,0.92);
    }
    .article-body h2{
      margin: 1.6rem 0 .6rem;
      color: var(--text);
      font-size: 1.38rem;
      letter-spacing: -0.01em;
    }
    .article-body p{ margin: .78rem 0; }

    hr{
      border:0;
      border-top:1px solid rgba(148,163,184,0.35);
      margin: 1.6rem 0;
    }

    /* Possibilities Grid */
    .possibilities{
      max-width: 980px;
      margin: 2.2rem auto 0;
    }
    .possibilities h2{
      margin: 0 0 .35rem;
      font-size: 1.6rem;
      color: var(--text);
    }
    .possibilities .lead{
      color: rgba(209,213,219,0.9);
      margin: 0 0 1.25rem;
      max-width: 860px;
    }
    .cards-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
    }
    @media (max-width: 760px){
      .cards-grid{ grid-template-columns: 1fr; }
    }
    .feature-card{
      border: 1px solid rgba(148,163,184,0.28);
      border-radius: 18px;
      background: rgba(255,255,255,0.04);
      overflow:hidden;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      min-height: 260px;
    }
    .feature-card:hover{
      transform: translateY(-2px);
      border-color: rgba(34,211,238,0.55);
      box-shadow: 0 0 26px rgba(34,211,238,0.08);
    }
    .feature-card .card-media{
      width:100%;
      height: 170px;
      object-fit: cover;
      display:block;
      background: rgba(255,255,255,0.06);
      border-bottom: 1px solid rgba(255,255,255,0.08);

      /* clickable feel */
      cursor: zoom-in;
      transform: translateZ(0);
      transition: transform .18s ease, filter .18s ease;
    }
    .feature-card:hover .card-media{
      transform: scale(1.02);
      filter: brightness(1.04);
    }

    .feature-card .card-body{ padding: 14px 14px 16px; }
    .feature-card h3{ margin: 0 0 .35rem; color: var(--text); font-size: 1.05rem; }
    .feature-card p{ margin: 0; color: rgba(209,213,219,0.9); font-size: .98rem; }
    .feature-card .tag{
      display:inline-block;
      margin-top: .75rem;
      padding: .25rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.05);
      color: rgba(209,213,219,0.9);
      font-size: .78rem;
      letter-spacing: .08em;
      text-transform: uppercase;
    }

    footer{
      border-top: 1px solid rgba(148,163,184,0.25);
      margin-top: 2.5rem;
      padding: 1.5rem 0 2rem;
      color: rgba(156,163,175,0.9);
      font-size: .9rem;
      text-align:center;
    }

    /* ================================
       CLICK-TO-ZOOM (3D POP) MODAL
       ================================ */

    .zoom-modal{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 22px;
      background: rgba(0,0,0,0.72);
      backdrop-filter: blur(10px);
    }
    .zoom-modal.open{ display:flex; }

    .zoom-stage{
      width: min(980px, 96vw);
      max-height: 84vh;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(2,6,23,0.82);
      box-shadow: 0 30px 120px rgba(0,0,0,0.55);
      overflow: hidden;
      transform-style: preserve-3d;
    }

    .zoom-topbar{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
    }
    .zoom-title{
      color: rgba(229,231,235,0.95);
      font-size: .92rem;
      letter-spacing:.06em;
      text-transform: uppercase;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .zoom-actions{
      display:flex;
      align-items:center;
      gap: 8px;
    }
    .zoom-btn{
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: #fff;
      cursor: pointer;
      font-size: 1.1rem;
      line-height: 1;
      display:grid;
      place-items:center;
      user-select:none;
    }
    .zoom-btn:hover{
      border-color: rgba(34,211,238,0.65);
      box-shadow: 0 0 18px rgba(34,211,238,0.18);
    }

    .zoom-media{
      position: relative;
      perspective: 1200px;
      background: radial-gradient(circle at top, rgba(34,211,238,0.10), transparent 55%),
                  radial-gradient(circle at bottom, rgba(139,92,246,0.10), transparent 60%);
    }

    .zoom-img{
      width: 100%;
      height: auto;
      max-height: calc(84vh - 56px);
      object-fit: contain;
      display:block;

      /* initial pop-in */
      transform: translateZ(60px) scale(0.92);
      filter: drop-shadow(0 30px 70px rgba(0,0,0,0.45));
      opacity: 0;
      transition: transform .26s ease, opacity .18s ease;
      transform-style: preserve-3d;
    }
    .zoom-modal.open .zoom-img{
      opacity: 1;
      transform: translateZ(60px) scale(1);
    }

    /* Tilt effect driven by JS */
    .zoom-tilt{
      transform-style: preserve-3d;
      transition: transform .08s linear;
      will-change: transform;
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .vision-track, .feature-card, .feature-card .card-media, .zoom-img, .zoom-tilt{
        transition: none !important;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="container header-inner">
      <div class="brand">
        <img src="../images/negative_white_halocyberlife_logo.png" alt="Halocyberlife logo" />
        <span>Halocyberlife</span>
      </div>

      <div class="nav-wrap">
        <button class="menu-btn" type="button" id="menuBtn" aria-label="Open menu">☰</button>
        <nav id="mainNav" aria-label="Primary">
          <a href="../index.html">Home</a>
          <a href="../blog.html">Articles</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="article-head">
      <p class="meta">Experiments &amp; Tech · Resonance / Photonics</p>
      <h1>Resonant Photonic Amplification: When Frequency Becomes the “Switch” for Light</h1>
      <p class="subtitle">
        What if illumination didn’t need a bulb, a filament, or a visible emitter at all — and instead
        emerged from engineered materials when you “tune” them the right way?
      </p>

      <div class="cta">
        <a class="btn primary" href="https://halocyberlife.com/blog/Patent_Bio_Glow.html" target="_blank" rel="noopener">
          View Official Patent Link ↗
        </a>
        <button class="btn secondary" type="button" id="jumpToPossibilities">
          Explore World-Changing Uses
        </button>
      </div>

      <div class="tag-row" aria-label="Key themes">
        <span class="pill"><strong>Core idea:</strong> frequency-driven excitation</span>
        <span class="pill"><strong>Goal:</strong> amplify light emission</span>
        <span class="pill"><strong>Style:</strong> engineered photonic layers</span>
      </div>
    </section>

    <section class="vision-slider" aria-label="Article image slider">
      <div class="vision-viewport">
        <div class="vision-track">
          <figure class="vision-slide">
            <img src="./Images/blog_images/resonance-activated-wall-panels.png"
                 alt="Architectural surfaces emitting light through resonance-driven activation (concept art)"
                 loading="eager" />
            <figcaption>Living surfaces — materials engineered to glow when “tuned” (concept visual).</figcaption>
          </figure>

          <figure class="vision-slide">
            <img src="./Images/blog_images/resonant-frequency-wave-instruction.png"
                 alt="Resonant frequency wave injection and control pathway (concept diagram)"
                 loading="lazy" />
            <figcaption>Control layer — the frequency pathway that turns emission into a dial, not a switch.</figcaption>
          </figure>

          <figure class="vision-slide">
            <img src="./Images/blog_images/resonant-photonic-layer-stack.png"
                 alt="Layer stack showing photonic materials, coupling interfaces, and resonance structures"
                 loading="lazy" />
            <figcaption>The stack — photonic layers, coupling regions, and a structure built to respond.</figcaption>
          </figure>

          <figure class="vision-slide">
            <img src="./Images/blog_images/Layers_Bio_Glow.png"
                 alt="Layer stack showing photonic materials, coupling interfaces, and resonance structures"
                 loading="lazy" />
            <figcaption>The stack — photonic layers, coupling regions, and a structure built to respond.</figcaption>
          </figure>

          <!-- FIXED: this must be class="vision-slide" so the slider JS counts it -->
          <figure class="vision-slide">
            <img src="futuristic_city_rpas.jpg"
                 alt="Future city illuminated by RPAS technology"
                 loading="lazy" />
            <figcaption>
              <strong>Figure: BioGlow™ Urban Illumination Concept</strong> — A visionary depiction of a future city where buildings, streets, and ceilings emit ambient light through embedded RPAS layers, reducing traditional lighting infrastructure.
            </figcaption>
          </figure>
        </div>

        <button class="vision-btn vision-prev" type="button" aria-label="Previous slide">‹</button>
        <button class="vision-btn vision-next" type="button" aria-label="Next slide">›</button>
      </div>

      <div class="vision-dots" role="tablist" aria-label="Slide navigation"></div>

      <p class="note">
        <strong>Concept Visuals:</strong> Illustrations for storytelling and education — not a finished consumer product rendering.
      </p>
    </section>

    <article class="article-body">
      <p>
        Imagine you walk into a room with no fixtures on the ceiling. No bulbs. No glowing panels.
        No visible light source at all.
      </p>
      <p>
        You tap a control, a subtle vibration rolls through the structure, and the wall itself
        begins to emit a calm, stable glow — not because there’s a lamp hidden behind it,
        but because the material is designed to respond to resonance like a musical instrument
        responds to the right note.
      </p>

      <hr />

      <section class="possibilities" id="possibilities" aria-label="Possibilities that change the game">
        <h2>Possibilities That Change the Game</h2>
        <p class="lead">
          If materials can be designed to emit more light when properly excited,
          the ripple effects are huge — not just for lighting, but for sensing, signaling, displays, safety,
          architecture, and energy efficiency.
        </p>

        <div class="cards-grid">
          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/living-architecture-light-without-fixtures.png"
                 alt="Concept: living architecture illumination"
                 loading="lazy">
            <div class="card-body">
              <h3>Living architecture</h3>
              <p>Walls, ceilings, corridors, tunnels, and public spaces with embedded illumination response — fewer fixtures, fewer failure points.</p>
              <span class="tag">Built-in light</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Sleek_glowing_accents_in_modern_spaces.png"
                 alt="Concept: ultra low profile lighting"
                 loading="lazy">
            <div class="card-body">
              <h3>Ultra-low profile lighting</h3>
              <p>Thin surfaces that glow without bulky assemblies — useful in tight spaces, vehicles, and wearables.</p>
              <span class="tag">Slim systems</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Adaptive_lighting_control_interface_in_motion.png"
                 alt="Concept: adaptive light controlled by waveforms"
                 loading="lazy">
            <div class="card-body">
              <h3>Adaptive environments</h3>
              <p>Light intensity and tone shaped by frequency patterns — like “lighting presets” that are literally waveforms.</p>
              <span class="tag">Waveform presets</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Futuristic_photonic_resonance_structure.png"
                 alt="Concept: redundancy for emergency illumination"
                 loading="lazy">
            <div class="card-body">
              <h3>Emergency + redundancy</h3>
              <p>Surfaces that can be driven by multiple excitation methods — if one fails, another can still trigger visibility.</p>
              <span class="tag">Failsafe modes</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Futuristic_resonance_in_photonic_technology.png"
                 alt="Concept: emissive materials as a new display paradigm"
                 loading="lazy">
            <div class="card-body">
              <h3>New display paradigms</h3>
              <p>Not a screen that shines at you — but materials that become emissive where and when stimulated.</p>
              <span class="tag">Material display</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Futuristic_illuminated_pathway_at_dusk.png"
                 alt="Concept: navigation markers and hazard indicators"
                 loading="lazy">
            <div class="card-body">
              <h3>Signals, markers, navigation</h3>
              <p>Wayfinding strips, runway markers, hazard indicators — activated by tuned excitation patterns.</p>
              <span class="tag">Guidance + safety</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Layers_Bio_Glow.png"
                 alt="Concept: layered photonic stack (BioGlow)"
                 loading="lazy">
            <div class="card-body">
              <h3>Layered photonic stack</h3>
              <p>A visual cue for how engineered layers can be tuned, coupled, and driven to produce controlled emission.</p>
              <span class="tag">Layer logic</span>
            </div>
          </article>

          <article class="feature-card">
            <img class="card-media"
                 src="./Images/blog_images/Futuristic_illuminated_pathway_at_dusk.png"
                 alt="Concept: pathways and edge lighting"
                 loading="lazy">
            <div class="card-body">
              <h3>Pathways + edges</h3>
              <p>Curbs, stairs, edges, and low-visibility zones that become readable when driven by safe excitation patterns.</p>
              <span class="tag">Edge safety</span>
            </div>
          </article>
        </div>
      </section>

      <hr />

      <p>
        If your mind immediately jumped to “what does this do for energy efficiency,” you’re thinking like an inventor.
        The dream is always: <strong>less input, more usable effect</strong>.
      </p>
    </article>

    <footer>
      © <span id="year"></span> Halocyberlife.com · Luis Amaya, self-contained article.
    </footer>
  </main>

  <!-- CLICK-TO-ZOOM MODAL -->
  <div class="zoom-modal" id="zoomModal" aria-hidden="true">
    <div class="zoom-stage" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="zoom-topbar">
        <div class="zoom-title" id="zoomTitle">Preview</div>
        <div class="zoom-actions">
          <button class="zoom-btn" type="button" id="zoomOpenNew" aria-label="Open image in new tab">↗</button>
          <button class="zoom-btn" type="button" id="zoomClose" aria-label="Close preview">✕</button>
        </div>
      </div>

      <div class="zoom-media">
        <div class="zoom-tilt" id="zoomTilt">
          <img class="zoom-img" id="zoomImg" alt="">
        </div>
      </div>
    </div>
  </div>

  <script>
    (() => {
      // Footer year
      const y = document.getElementById("year");
      if (y) y.textContent = String(new Date().getFullYear());

      // Mobile menu toggle
      const menuBtn = document.getElementById("menuBtn");
      const nav = document.getElementById("mainNav");
      if (menuBtn && nav) {
        menuBtn.addEventListener("click", () => nav.classList.toggle("open"));
        nav.querySelectorAll("a").forEach(a => a.addEventListener("click", () => nav.classList.remove("open")));
        document.addEventListener("click", (e) => {
          if (window.matchMedia("(max-width: 720px)").matches) {
            if (!nav.contains(e.target) && e.target !== menuBtn) nav.classList.remove("open");
          }
        });
      }

      // Smooth jump
      const jumpBtn = document.getElementById("jumpToPossibilities");
      const poss = document.getElementById("possibilities");
      if (jumpBtn && poss) {
        jumpBtn.addEventListener("click", () => poss.scrollIntoView({ behavior: "smooth", block: "start" }));
      }

      // Slider
      const slider = document.querySelector(".vision-slider");
      if (slider) {
        const track = slider.querySelector(".vision-track");
        const slides = Array.from(slider.querySelectorAll(".vision-slide"));
        const prevBtn = slider.querySelector(".vision-prev");
        const nextBtn = slider.querySelector(".vision-next");
        const dotsWrap = slider.querySelector(".vision-dots");
        const viewport = slider.querySelector(".vision-viewport");

        if (track && slides.length && prevBtn && nextBtn && dotsWrap) {
          let index = 0;
          let timer = null;

          dotsWrap.innerHTML = "";
          slides.forEach((_, i) => {
            const dot = document.createElement("button");
            dot.type = "button";
            dot.className = "vision-dot";
            dot.setAttribute("aria-label", "Go to slide " + (i + 1));
            dot.setAttribute("aria-selected", i === 0 ? "true" : "false");
            dot.addEventListener("click", () => goTo(i, true));
            dotsWrap.appendChild(dot);
          });
          const dots = Array.from(slider.querySelectorAll(".vision-dot"));

          function update() {
            track.style.transform = "translateX(-" + (index * 100) + "%)";
            dots.forEach((d, i) => d.setAttribute("aria-selected", i === index ? "true" : "false"));
          }
          function goTo(i, userAction=false) {
            index = (i + slides.length) % slides.length;
            update();
            if (userAction) restartAutoplay();
          }
          function next(userAction=false) { goTo(index + 1, userAction); }
          function prev(userAction=false) { goTo(index - 1, userAction); }

          prevBtn.addEventListener("click", () => prev(true));
          nextBtn.addEventListener("click", () => next(true));

          // Swipe
          let startX = 0;
          let down = false;
          if (viewport) {
            viewport.addEventListener("pointerdown", (e) => { down = true; startX = e.clientX; });
            viewport.addEventListener("pointerup", (e) => {
              if (!down) return;
              down = false;
              const dx = e.clientX - startX;
              if (Math.abs(dx) > 40) dx < 0 ? next(true) : prev(true);
            });
            viewport.addEventListener("pointercancel", () => { down = false; });
          }

          function startAutoplay() {
            stopAutoplay();
            timer = setInterval(() => next(false), 5000);
          }
          function stopAutoplay() {
            if (timer) clearInterval(timer);
            timer = null;
          }
          function restartAutoplay() { startAutoplay(); }

          slider.addEventListener("mouseenter", stopAutoplay);
          slider.addEventListener("mouseleave", startAutoplay);

          update();
          startAutoplay();
        }
      }

      /* ================================
         CLICK-TO-ZOOM (3D POP) for grid images
         ================================ */
      const modal = document.getElementById("zoomModal");
      const zoomImg = document.getElementById("zoomImg");
      const zoomTitle = document.getElementById("zoomTitle");
      const zoomClose = document.getElementById("zoomClose");
      const zoomOpenNew = document.getElementById("zoomOpenNew");
      const zoomTilt = document.getElementById("zoomTilt");

      if (!modal || !zoomImg || !zoomClose || !zoomOpenNew || !zoomTilt || !zoomTitle) return;

      const galleryImgs = Array.from(document.querySelectorAll(".cards-grid .card-media"));

      let lastSrc = "";
      let isOpen = false;

      function openModalFromImage(imgEl){
        const src = imgEl.getAttribute("src") || "";
        const alt = imgEl.getAttribute("alt") || "Image preview";
        if (!src) return;

        lastSrc = src;
        zoomImg.src = src;
        zoomImg.alt = alt;
        zoomTitle.textContent = alt;

        modal.classList.add("open");
        modal.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        isOpen = true;

        // reset tilt
        zoomTilt.style.transform = "rotateX(0deg) rotateY(0deg) translateZ(0)";
      }

      function closeModal(){
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden", "true");
        document.body.style.overflow = "";
        isOpen = false;

        // clear to avoid flash on next open
        window.setTimeout(() => {
          if (!isOpen) {
            zoomImg.removeAttribute("src");
            zoomImg.alt = "";
            zoomTitle.textContent = "Preview";
          }
        }, 120);
      }

      // Click image opens modal
      galleryImgs.forEach(img => {
        img.addEventListener("click", () => openModalFromImage(img));
        // keyboard access
        img.setAttribute("tabindex", "0");
        img.setAttribute("role", "button");
        img.setAttribute("aria-label", "Open image preview");
        img.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            openModalFromImage(img);
          }
        });
      });

      // Close actions
      zoomClose.addEventListener("click", closeModal);
      modal.addEventListener("click", (e) => {
        // click outside the dialog closes
        if (e.target === modal) closeModal();
      });

      // Escape closes
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && isOpen) closeModal();
      });

      // Open in new tab
      zoomOpenNew.addEventListener("click", () => {
        if (!lastSrc) return;
        window.open(lastSrc, "_blank", "noopener,noreferrer");
      });

      // 3D tilt effect (mouse move)
      const stage = modal.querySelector(".zoom-stage");
      if (stage) {
        stage.addEventListener("mousemove", (e) => {
          if (!isOpen) return;
          const rect = stage.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width;   // 0..1
          const y = (e.clientY - rect.top) / rect.height;  // 0..1

          const rotY = (x - 0.5) * 10;  // -5..5 deg
          const rotX = (0.5 - y) * 10;  // -5..5 deg

          zoomTilt.style.transform =
            "rotateX(" + rotX.toFixed(2) + "deg) rotateY(" + rotY.toFixed(2) + "deg) translateZ(0)";
        });

        stage.addEventListener("mouseleave", () => {
          if (!isOpen) return;
          zoomTilt.style.transform = "rotateX(0deg) rotateY(0deg) translateZ(0)";
        });
      }
    })();
  </script>
</body>
</html>
